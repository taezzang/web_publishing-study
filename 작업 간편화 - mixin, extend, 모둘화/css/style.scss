// Mixin

// 작업을 편하게 해줄 문법
// @으로 시작하는 At-Rules
// 기본 CSS에서도 @으로 시작하는 것들이 있었음 (@font-face 또는 @media 등)

// @mixin / @include : 스타일 청크(묶음)를 쉽게 재사용할 수 있습니다.
// @extend : 여러 선택자가 스타일을 상속받도록 할 수 있습니다.
// @import / @use : 다른 스타일시트에 있는 변수, 함수, 믹스인 등을 불러와 결합해서 쓸 수 있습니다.
// @function : SassScript에서 사용할 수 있는 사용자 정의 함수를 만들 수 있습니다.
// @if / @each / @for : 상황에 맞춰 CSS가 적용되도록 흐름을 제어할 수 있습니다.

// 사용법
// @mixin {이름} 으로 공통으로 쓸 속성들을 묶는다
// @include {믹스인 이름} 으로 불러와 사용
@mixin set-color {
    color: #fff;
    background-color: yellow;
}

h1 {
    @include set-color;
}

p {
    @include set-color;
}

// 믹스인은 인자값을 가질 수 있음
// 고로 호출 시마다 다르게 정의가 가능
@mixin set-color2($color, $bg-color) {
    color: $color;
    background-color: $bg-color;
}

h2 {
    @include set-color2(#000, #f0f0f0);
}

span {
    @include set-color2(#bada77, #234510);
}

// 일부 인자에는 기본값을 주거나 특정 인자만 넘기는 것도 가능
@mixin bg($name, $path: '/images/', $format: 'png') {
    // 경로는 images/일 가능성이 높고 확장자도 .png를 쓸 확률이 높은경우
    // $path엔 기본값으로 /images/를, $format엔 기본값으로 png를 부여해서 생략이 가능
    //
    background-image: url('#{$path}#{$name}.#{$format}');
}

.logo {
    // path 및 format 생략
    @include bg('logo');
}

.arrow {
    // path 및 format 생략
    @include bg('arrow');
}

.photo {
    // path를 생략하였지만 format은 생략을 안한 경우
    // 다만 인자 순서가 format은 3번째이므로 두번째에 쓸 경우엔..
    // $format: 'jpg'처럼 해당 인자값을 지정해줘야 한다
    @include bg('photo', $format: 'jpg');
}

// TMI
// 인자의 개수를 확정할 수 없는 상태라면 ... 를 써서 임의의 인자를 전달할 수 있다
// ex) @mixin button ($size, $color, $args...) { }
// 임의 인자는 @for나 @each 같은 제어문과 함께 사용하기 좋다

// mixin은 최상위 문이므로, 스타일시트의 최상위 레벨에서 사용함
// 최상위 문이 아닌 다른 문을 mixin 속에 포함 가능 예를 들어 if문
// ex) 버튼을 a에선 사각형, b에선 원형으로 써야 하는 상황일 경우...
@mixin button($size, $radius: 0) {
    width: $size;
    height: $size;

    @if $radius != 0 {
        border-radius: $radius;
    }
}

.btn-square {
    @include button(100px);
}

.btn-circle {
    @include button(100px, $radius: 50%);
}

// @content 구문을 쓰면 @include로 불러와 쓸 때 내용을 추가로 입력 가능
@mixin hover {
    &:hover {
        font-weight: bold;
        @content;
    }

    &.on {
        @content;
    }
}

button {
    // 불러와 쓸 때 내용 입력
    @include hover {
        color: red;
    }
}
//  * 출력결과:

//  button:hover {
//    font-weight: bold;
//    color: red;
//  }

//  button.on {
//    color: red;
//  }

// 강의 글 저자는 미디어쿼리 분기문을 믹스인으로 만든 뒤 다른 곳에서 불러와 쓰는 용도로 사용

// Break Point
$tablet: 768px;
$mobile: 540px;

// Tablet
@mixin res--tablet {
    @media screen and (min-width: #{$tablet}) {
        @content;
    }
}

// Mobile
@mixin res--mobile {
    @media screen and (min-width: #{$mobile}) {
        @content;
    }
}

.title {
    font-size: 16px;

    @include res--tablet {
        font-size: 14px;
    }

    @include res--mobile {
        font-size: 12px;
    }
}
